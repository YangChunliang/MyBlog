{% extends 'layout.html' %}
<!-- 继承父类 -->
{% block main %}

<ol class="breadcrumb">
  <li><a href="/admin/user">管理首页</a></li>
  <li><span>内容列表</span></li>
</ol>

<h3>内容列表</h3>

<table class="table table-hover table-striped table-bordered">
   <tr>
     <th>ID</th>
     <th>分类名称</th>
     <th>内容标题</th>
     <th>作者</th>
     <th>添加时间</th>
     <th>阅读量</th>
     <th>操作</th>
   </tr>
   {% for content in contents %}
   <tr>
     <td>{{content._id.toString()}}</td>
     <td>{{content.category.name}}</td>
     <td>{{content.title}}</td>
     <td>{{content.user.username}}</td>
     <td>{{content.addTime|date('Y年m月d日 H:i:s',-60*8)}}</td>
     <td>{{content.views}}</td>
     <td>
       <a href="/admin/content/edit?id={{content._id.toString()}}">修改</a> |
       <a href="/admin/content/delete?id={{content._id.toString()}}">删除</a>
     </td>
   </tr>
   {% endfor %}
</table>

<nav aria-label="...">
  <ul class="pager">
    <li class="previous"><a href="/admin/content?page={{ page-1 }}"><span aria-hidden="true">&larr;</span> 上一页</a></li>
    <li>{{page}}/{{pages}}</li>
    <li class="next"><a href="/admin/content?page={{ page+1 }}">下一页 <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
{% endblock %}
